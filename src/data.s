.include "../src/consts.s"

.data
FRAME_TO_DRAW: .byte 0

# Estados
IN_COMBAT: .byte 0      # 0 - fora de comabate    1 - aliado ataca primeiro    2 - inimigo ataca primeiro
COMBAT_STEP: .byte 0    # idle - primeiro atack - tira vida - segundo atack - tira vida
COMBAT_LAST_TIME: .word 0

.align 2
PLAYERS_IN_COMBAT: .word 0, 0
PLAYER_ATACKING: .byte 2
COMBAT_DAMAGE: .byte 0
PRINT_DMG: .byte 0

IS_PRINT_DMG: .byte 0

CURSOR_POS: .byte SCREEN_CENTER_X, SCREEN_CENTER_Y

.align 2
CURSOR_ANIM: .word 2, 0, MIN_WORD, CURSOR_NUM0, CURSOR_NUM1
CURSOR_ATTACK_ANIM: .word 2, 0, MIN_WORD, CURSOR_ATTACK_NUM0, CURSOR_ATTACK_NUM1
PLAYER_BLINK_ANIM0: .word 2, 0, MIN_WORD, 1, 2
PLAYER_BLINK_ANIM1: .word 2, 0, MIN_WORD, 2, 1
SMOKE_ANIM_DISAPPEAR: .word 2, 0, -1, MIN_WORD, SMOKE0, SMOKE1
SMOKE_ANIM_APPEAR: .word 2, 0, -1, MIN_WORD, SMOKE0, SMOKE1
.align 0
CURSOR_TRAIL: .space N_CURSOR_TRAIL
MAKING_TRAIL: .byte 0
# Indicates if player blink animation is in progress
BLINK_ANIMATION: .byte 0
# indica o estado atual do jogo
GAME_STATE: .byte GAME_STATE_INIT
AUDIO_STATE: .byte AUDIO_STATE_NOTHING

.align 2
# Music
START_MENU_SONG:
.word 53, 0, MIN_WORD,
52,577,60,577,52,288,53,288,55,288,59,2596,52,577,60,577,52,288,53,288,55,288,59,2019,43,288,45,288,50,577,48,577,50,577,52,577,55,288,52,288,60,1154,50,288,52,288,50,865,52,144,50,144,48,577,48,288,44,288,43,288,52,577,52,288,60,577,43,288,45,288,50,577,48,577,50,577,52,577,55,288,52,288,60,1154,50,288,52,288,50,865,52,144,50,144,48,577,48,288,44,288,43,577,52,288,52,577

WIN_MENU_SONG:
.word 71, 0, MIN_WORD,
69,178,69,178,65,178,62,357,62,357,67,357,67,357,67,178,71,178,71,178,72,178,74,178,72,178,72,178,72,178,67,357,65,357,69,357,69,357,69,178,67,178,67,178,69,178,67,178,69,178,69,178,65,178,62,357,62,357,67,357,67,357,67,178,71,178,71,178,72,178,74,178,72,178,72,178,72,178,67,357,65,357,69,357,69,357,69,178,67,178,67,178,69,178,67,178,69,178,69,178,65,178,62,357,62,357,67,357,67,357,67,178,71,178,71,178,72,178,74,178,72,178,72,178,72,178,69,357,65,357,69,357,69,357,69,178,67,178,67,178,67,178

COMBAT_SONG:
.word 26, 0, MIN_WORD,
36,166,36,166,40,333,36,166,36,166,41,333,36,166,36,166,40,333,36,166,38,166,36,166,36,166,40,333,36,166,36,166,41,333,36,166,36,166,40,333,36,166,36,166,38,166,36,166,35,166,38,166

MAP_SONG:
.word 97, 0, MIN_WORD,
60,652,55,978,60,326,60,163,62,163,64,163,65,163,67,1630,67,326,67,215,69,221,71,215,72,1630,72,326,72,163,71,163,69,326,71,489,69,163,67,1304,67,652,65,326,65,163,67,163,69,1304,67,326,65,326,64,326,64,163,65,163,67,1304,65,326,64,326,62,326,62,163,64,163,66,1304,70,652,67,326,55,163,55,163,55,326,55,163,55,163,55,326,55,163,55,163,55,326,55,326,60,652,55,978,60,326,60,163,62,163,64,163,65,163,67,1630,67,326,67,215,69,221,71,215,72,1956,76,652,74,652,73,1304,67,652,69,1956,72,652,73,652,67,1304,67,652,69,1956,72,652,73,652,67,1304,64,652,65,1956,69,652,67,652,64,1304,60,652,62,326,62,163,64,163,66,1304,70,652,67,326,55,163,55,163,55,326,55,163,55,163,55,326,55,163,55,163,55,326,55,326

.align 2
ENEMY_DELAY: .word 0
PHASE_DELAY: .word 0
WIN_MAP_DELAY: .word 0
LOOSE_MAP_DELAY: .word 0

KBD_INPUT: .byte 0
.align 2
CURRENT_MAP: .word 0
SELECTED_PLAYER: .word 0
MAP_NUM: .byte 0

# ACTION_MENU variables
ACTION_MENU_STRING_ATTACK: .string "Attack"
ACTION_MENU_STRING_WAIT: .string "Wait"
ACTION_MENU_SELECTED_OPTION: .byte 0
ACTION_MENU_IS_SELECTED: .byte 0

# Win menu variables
WIN_MENU_STRING_ATTACK: .string "Restart"
WIN_MENU_STRING_WAIT: .string "Exit"
WIN_MENU_SELECTED_OPTION: .byte 0
WIN_MENU_IS_SELECTED: .byte 0
# Start menu variables
START_MENU_STRING_START: .string "Start"
START_MENU_SELECTED_OPTION: .byte 0
START_MENU_IS_SELECTED: .byte 0

.align 2
ACTION_MENU_STRINGS: .word ACTION_MENU_STRING_ATTACK, ACTION_MENU_STRING_WAIT
WIN_MENU_STRINGS: .word WIN_MENU_STRING_ATTACK, WIN_MENU_STRING_WAIT
START_MENU_STRINGS: .word START_MENU_STRING_START

.align 2
NEARBY_ENEMIES: .byte 0, 0, 0, 0

ACTUALLY_MOVE_PLAYER_DATA: 
.align 2
.word 0 # player
.byte 0 # oldPosX
.byte 0 # oldPosY
.byte 0 # status

.align 2
# Player animations data:
ALLY_WATER_STILL_ANIM: .word 2, 0, MIN_WORD, ALLY_WATER_STILL_FRAME0, ALLY_WATER_STILL_FRAME1
ALLY_FIRE_STILL_ANIM: .word 2, 0, MIN_WORD, ALLY_FIRE_STILL_FRAME0, ALLY_FIRE_STILL_FRAME1
ALLY_EARTH_STILL_ANIM: .word 2, 0, MIN_WORD, ALLY_EARTH_STILL_FRAME0, ALLY_EARTH_STILL_FRAME1

ENEMY_WATER_STILL_ANIM: .word 2, 0, MIN_WORD, ENEMY_WATER_STILL_FRAME0, ENEMY_WATER_STILL_FRAME1
ENEMY_FIRE_STILL_ANIM: .word 2, 0, MIN_WORD, ENEMY_FIRE_STILL_FRAME0, ENEMY_FIRE_STILL_FRAME1
ENEMY_EARTH_STILL_ANIM: .word 2, 0, MIN_WORD, ENEMY_EARTH_STILL_FRAME0, ENEMY_EARTH_STILL_FRAME1


# Nome dos elementos
FOGO: .string "FIRE"
GELO: .string "WATER"
TERRA: .string "EARTH"

HIT_STRING: .string "HIT"
MISS_STRING: .string "ERROU"
CRIT_STRING: .string "CRIT"
DMG_STRING: .string "DMG"

YOU_WIN_STRING: .string "YOU WIN!"
YOU_LOOSE_STRING: .string "YOU LOSE"
ALLY_PHASE_STRING: .string "ALLY TURN"
ENEMY_PHASE_STRING: .string "ENEMY TURN"

WALKABLE_BLOCKS: .align 2
.space TILES_PER_MAP

.align 0
MAPS:
.byte
# Tutorial
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x09, 0x00, 0x09, 0x00, 0x00, 0x09, 0x00, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x09, 0x00, 0x00, 0x09, 0x00, 0x00, 
0x00, 0x09, 0x00, 0x09, 0x09, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x09, 0x00, 0x00, 0x09, 0x00, 0x00, 
0x00, 0x09, 0x09, 0x00, 0x00, 0x09, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x09, 0x00, 0x09, 0x09, 0x00, 0x00, 
0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x09, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x09, 0x00, 0x09, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x12, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 
0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x09, 0x09, 

# Vila simples
0x18, 0x18, 0x18, 0x18, 0x18, 0x3B, 0x00, 0x00, 0x00, 0x11, 0x11, 0x00, 0x00, 0x11, 0x00, 0x11, 0x00, 0x11, 0x11, 0x00, 
0x08, 0x53, 0x5B, 0x63, 0x08, 0x08, 0x18, 0x18, 0x18, 0x18, 0x18, 0x20, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x11, 0x00, 
0x08, 0x6B, 0x73, 0x7B, 0x08, 0x33, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x2B, 0x2B, 0x33, 0x08, 0x08, 0x08, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x33, 0x08, 0x08, 0x08, 0x08, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x33, 0x08, 0x08, 0x08, 0x08, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x00, 
0x08, 0x08, 0x83, 0x8B, 0x93, 0x2B, 0x2B, 0x33, 0x2B, 0x2B, 0x2B, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x11, 0x00, 
0x08, 0x08, 0x9B, 0xA3, 0xAB, 0x08, 0x08, 0x33, 0x00, 0x00, 0x11, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x33, 0x00, 0x00, 0x33, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 0x11, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x3B, 0x00, 0x00, 0x33, 0x11, 0x00, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x18, 0x20, 0x33, 0x11, 0x00, 0x00, 0x00, 0x11, 0x11, 0x00, 0x00, 0x00, 
0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x33, 0x11, 0x00, 0x00, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x00, 0x00, 0x11, 0x00, 0x00, 0x11, 0x00, 0x11, 0x00, 0x11, 0x11, 0x11, 0x00, 0x11, 0x00, 0x00, 0x11, 0x11, 0x11, 0x00, 
0x00, 0x11, 0x11, 0x00, 0x11, 0x00, 0x11, 0x11, 0x00, 0x00, 0x00, 0x11, 0x11, 0x11, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
0x11, 0x11, 0x00, 0x00, 0x11, 0x11, 0x00, 0x00, 0x00, 0x00, 0x11, 0x11, 0x11, 0x11, 0x00, 0x00, 0x00, 0x00, 0x11, 0x00,


# Vilarejo
0x00, 0x00, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x11, 0x33, 0x83, 0x8B, 0x93, 0x08, 0x33, 0x11, 0x00, 0x00, 0x11, 0x11, 
0x20, 0x11, 0x11, 0x11, 0x11, 0x18, 0x53, 0x5B, 0x63, 0x33, 0x9B, 0xA3, 0xAB, 0x08, 0x33, 0x11, 0x00, 0x00, 0x00, 0x11, 
0x2B, 0x2B, 0x2B, 0x2B, 0x4B, 0x08, 0x6B, 0x73, 0x7B, 0x33, 0x11, 0x08, 0x08, 0x08, 0x33, 0x11, 0x00, 0x00, 0x00, 0x00, 
0x20, 0x00, 0x00, 0x00, 0x33, 0x08, 0x08, 0x08, 0x11, 0x33, 0x00, 0x08, 0x08, 0x08, 0x33, 0x11, 0x00, 0x00, 0x00, 0x00, 
0x08, 0x20, 0x00, 0x00, 0x33, 0x08, 0x2B, 0x2B, 0x2B, 0x33, 0x2B, 0x2B, 0x2B, 0x08, 0x33, 0x11, 0x00, 0x00, 0x00, 0x11, 
0x08, 0x08, 0x18, 0x20, 0x3B, 0x08, 0x83, 0x8B, 0x93, 0x33, 0x53, 0x5B, 0x63, 0x08, 0x3B, 0x20, 0x00, 0x00, 0x00, 0x00, 
0x53, 0x5B, 0x63, 0x08, 0x08, 0x08, 0x9B, 0xA3, 0xAB, 0x3B, 0x6B, 0x73, 0x7B, 0x08, 0x08, 0x08, 0x20, 0x00, 0x00, 0x00, 
0x6B, 0x73, 0x7B, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x20, 0x00, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x33, 0x08, 0x08, 0x08, 0x18, 0x18, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x2B, 0x2B, 0x2B, 0x33, 0x11, 0x08, 0x08, 0x08, 0x08, 
0x08, 0x08, 0x08, 0x08, 0x43, 0x2B, 0x2B, 0x2B, 0x08, 0x08, 0x08, 0x83, 0x8B, 0x93, 0x33, 0x11, 0x11, 0x11, 0x11, 0x11, 
0x08, 0x83, 0x8B, 0x93, 0x33, 0x53, 0x5B, 0x63, 0x08, 0x08, 0x08, 0x9B, 0xA3, 0xAB, 0x33, 0x11, 0x00, 0x11, 0x00, 0x00, 
0x08, 0x9B, 0xA3, 0xAB, 0x3B, 0x6B, 0x73, 0x7B, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x33, 0x11, 0x00, 0x00, 0x11, 0x00, 
0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x33, 0x11, 0x11, 0x00, 0x00, 0x11, 
0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x2B, 0x11, 0x00, 0x11, 0x00, 0x11,

# Fortaleza
0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x03, 0x03, 0x03, 0x23, 0x1B, 0x33, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x2B, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x03, 0x03, 0x23, 0x83, 0x70, 0x13, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x7B, 0x2B, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x03, 0x23, 0x83, 0x08, 0x08, 0x13, 0x08, 0x08, 0x08, 0x4B, 0x08, 0x08, 0x08, 0x8B, 0x8B, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x23, 0x83, 0x08, 0x08, 0x1B, 0x83, 0x08, 0x13, 0x08, 0x53, 0x08, 0x08, 0x08, 0x13, 0x7B, 0x2B, 0x03, 0x03, 
0x03, 0x23, 0x83, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x13, 0x08, 0x08, 0x08, 0x1B, 0x1B, 0x3B, 0x08, 0x7B, 0x2B, 0x03, 
0x03, 0x13, 0x08, 0x08, 0x08, 0x4B, 0x08, 0x23, 0x1B, 0x58, 0x1B, 0x2B, 0x08, 0x08, 0x08, 0x13, 0x08, 0x70, 0x13, 0x03, 
0x03, 0x33, 0x1B, 0x1B, 0x08, 0x53, 0x08, 0x13, 0x08, 0x63, 0x70, 0x13, 0x08, 0x08, 0x08, 0x4B, 0x08, 0x08, 0x13, 0x03, 
0x03, 0x13, 0x08, 0x08, 0x08, 0x08, 0x08, 0x7B, 0x58, 0x63, 0x1B, 0x83, 0x08, 0x08, 0x08, 0x53, 0x08, 0x08, 0x13, 0x03, 
0x03, 0x13, 0x70, 0x08, 0x23, 0x83, 0x08, 0x08, 0x63, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x13, 0x03, 
0x03, 0x5B, 0x8B, 0x23, 0x83, 0x08, 0x92, 0x08, 0x08, 0x92, 0x08, 0x7B, 0x2B, 0x08, 0x08, 0x08, 0x08, 0x08, 0x5B, 0x03, 
0x03, 0x63, 0x1B, 0x2B, 0x08, 0x08, 0x08, 0x4B, 0x08, 0x08, 0x08, 0x08, 0x7B, 0x2B, 0x08, 0x70, 0x23, 0x1B, 0x63, 0x03, 
0x03, 0x6B, 0x43, 0x5B, 0x08, 0x08, 0x08, 0x53, 0x08, 0x08, 0x08, 0x08, 0x08, 0x7B, 0x2B, 0x8B, 0x58, 0x43, 0x6B, 0x03, 
0x03, 0x6B, 0x43, 0x63, 0x1B, 0x2B, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x23, 0x1B, 0x63, 0x43, 0x6B, 0x03, 
0x03, 0x6B, 0x43, 0x6B, 0x43, 0x5B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x1B, 0x5B, 0x43, 0x6B, 0x43, 0x6B, 0x03,

# Castelo verde
0x03, 0x1B, 0x5B, 0x5B, 0x6B, 0x5B, 0x5B, 0x5B, 0x9B, 0x5B, 0x5B, 0x5B, 0x9B, 0x5B, 0x5B, 0x5B, 0x6B, 0x5B, 0x5B, 0x23, 
0x03, 0x1B, 0x5B, 0x5B, 0x73, 0x5B, 0x5B, 0x5B, 0xA3, 0x5B, 0x5B, 0x5B, 0xA3, 0x5B, 0x5B, 0x5B, 0x73, 0x5B, 0x5B, 0x23, 
0x03, 0x1B, 0x5B, 0x5B, 0x73, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x5B, 0x73, 0x5B, 0x5B, 0x23, 
0x03, 0x63, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x63, 
0x03, 0x6B, 0x2B, 0x2B, 0x2B, 0x63, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x63, 0x2B, 0x2B, 0x2B, 0x6B, 
0x03, 0x73, 0x93, 0x9B, 0x93, 0x6B, 0x2B, 0x2B, 0x63, 0x08, 0x12, 0x08, 0x63, 0x2B, 0x2B, 0x6B, 0x97, 0x9B, 0x97, 0x73, 
0x03, 0x93, 0x93, 0xA3, 0x93, 0x73, 0x93, 0x9B, 0x6B, 0x78, 0x80, 0x88, 0x6B, 0x9B, 0x93, 0x73, 0x97, 0xA3, 0x97, 0x97, 
0x03, 0x03, 0x03, 0x03, 0x03, 0x93, 0x93, 0xA3, 0x73, 0x78, 0x80, 0x88, 0x73, 0xA3, 0x93, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x93, 0x78, 0x80, 0x88, 0x93, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x78, 0x80, 0x88, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x78, 0x80, 0x88, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x3B, 0x2B, 0x2B, 0x43, 0x03, 0x3B, 0x2B, 0x63, 0x78, 0x80, 0x88, 0x63, 0x2B, 0x43, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x1B, 0x5B, 0x5B, 0x23, 0x03, 0x1B, 0x5B, 0x6B, 0x78, 0x80, 0x88, 0x6B, 0x5B, 0x23, 0x03, 0x03, 0x03, 0x03, 0x03,
0x03, 0x1B, 0x08, 0x08, 0x23, 0x03, 0x1B, 0x5B, 0x73, 0x78, 0x80, 0x88, 0x73, 0x5B, 0x23, 0x03, 0x03, 0x03, 0x03, 0x03, 
0x03, 0x4B, 0x33, 0x33, 0x53, 0x03, 0x1B, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x08, 0x23, 0x03, 0x03, 0x03, 0x03, 0x03,

# Tutorial
CORRESPONDENCE_ARR_MAP0:
.byte 47, 49, 88, 52 

# Vila simples
CORRESPONDENCE_ARR_MAP1:
.byte 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68

# Vilarejo
CORRESPONDENCE_ARR_MAP2:
.byte 47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62, 63, 64, 65, 66, 67, 68

# Fortaleza
CORRESPONDENCE_ARR_MAP3:
.byte 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87

# Castelo verde
CORRESPONDENCE_ARR_MAP4:
.byte 26, 27, 28, 30, 31, 32, 33, 34, 35, 36, 37, 29, 42, 43, 44, 39, 40, 41, 38, 45, 46

# Caracteres para print(string, char)
.align 2
LabelTabChar:
.word 	0x00000000, 0x00000000, 0x10101010, 0x00100010, 0x00002828, 0x00000000, 0x28FE2828, 0x002828FE, 
	0x38503C10, 0x00107814, 0x10686400, 0x00004C2C, 0x28102818, 0x003A4446, 0x00001010, 0x00000000, 
	0x20201008, 0x00081020, 0x08081020, 0x00201008, 0x38549210, 0x00109254, 0xFE101010, 0x00101010, 
	0x00000000, 0x10081818, 0xFE000000, 0x00000000, 0x00000000, 0x18180000, 0x10080402, 0x00804020, 
	0x54444438, 0x00384444, 0x10103010, 0x00381010, 0x08044438, 0x007C2010, 0x18044438, 0x00384404, 
	0x7C482818, 0x001C0808, 0x7840407C, 0x00384404, 0x78404438, 0x00384444, 0x1008047C, 0x00202020, 
	0x38444438, 0x00384444, 0x3C444438, 0x00384404, 0x00181800, 0x00001818, 0x00181800, 0x10081818, 
	0x20100804, 0x00040810, 0x00FE0000, 0x000000FE, 0x04081020, 0x00201008, 0x08044438, 0x00100010, 
	0x545C4438, 0x0038405C, 0x7C444438, 0x00444444, 0x78444478, 0x00784444, 0x40404438, 0x00384440,
	0x44444478, 0x00784444, 0x7840407C, 0x007C4040, 0x7C40407C, 0x00404040, 0x5C404438, 0x00384444, 
	0x7C444444, 0x00444444, 0x10101038, 0x00381010, 0x0808081C, 0x00304848, 0x70484444, 0x00444448, 
	0x20202020, 0x003C2020, 0x92AAC682, 0x00828282, 0x54546444, 0x0044444C, 0x44444438, 0x00384444, 
	0x38242438, 0x00202020, 0x44444438, 0x0C384444, 0x78444478, 0x00444850, 0x38404438, 0x00384404, 
	0x1010107C, 0x00101010, 0x44444444, 0x00384444, 0x28444444, 0x00101028, 0x54828282, 0x00282854, 
	0x10284444, 0x00444428, 0x10284444, 0x00101010, 0x1008047C, 0x007C4020, 0x20202038, 0x00382020, 
	0x10204080, 0x00020408, 0x08080838, 0x00380808, 0x00442810, 0x00000000, 0x00000000, 0xFE000000, 
	0x00000810, 0x00000000, 0x3C043800, 0x003A4444, 0x24382020, 0x00582424, 0x201C0000, 0x001C2020, 
	0x48380808, 0x00344848, 0x44380000, 0x0038407C, 0x70202418, 0x00202020, 0x443A0000, 0x38043C44, 
	0x64584040, 0x00444444, 0x10001000, 0x00101010, 0x10001000, 0x60101010, 0x28242020, 0x00242830, 
	0x08080818, 0x00080808, 0x49B60000, 0x00414149, 0x24580000, 0x00242424, 0x44380000, 0x00384444, 
	0x24580000, 0x20203824, 0x48340000, 0x08083848, 0x302C0000, 0x00202020, 0x201C0000, 0x00380418, 
	0x10381000, 0x00101010, 0x48480000, 0x00344848, 0x44440000, 0x00102844, 0x82820000, 0x0044AA92, 
	0x28440000, 0x00442810, 0x24240000, 0x38041C24, 0x043C0000, 0x003C1008, 0x2010100C, 0x000C1010, 
	0x10101010, 0x00101010, 0x04080830, 0x00300808, 0x92600000, 0x0000000C, 0x243C1818, 0xA55A7E3C, 
	0x99FF5A81, 0x99663CFF, 0x10280000, 0x00000028, 0x10081020, 0x00081020


# Temp buffer so we can perform operations on strings
TEMP_BUFFER:
.space 512

.align 0
N_PLAYERS:
.byte 0

QUEUE_ALLY_TRANSITION: .byte 0
QUEUE_ENEMY_TRANSITION: .byte 0
DIALOGUE_STRING_NUM: .byte 0

PLAYER_1: .string "Player1"
PLAYER_2: .string "Player2"

# Allocating PLAYER_BYTE_SIZE * 10 bytes
.align 2
PLAYERS:
.space PLAYERS_BYTE_SIZE

map0_string0: .string "Bem vindo a estrada da magia!\nVoce eh o comandante dos chapeis\nde palha! Seu objetivo eh eliminar\na guilda dos chapeis roxo!"
map0_string1: .string "Para se movimentar use a tecla ENTER\nem algum mago chapeu de palha!\nUtilize  'W A S D' para mover a seta\nAperte ENTER na posicao desejada!"
map0_string2: .string "Eh importante prestar atencao nos\nelementos:\n\n      AGUA ganha de FOGO\n      FOGO ganha de TERRA\n      TERRA ganha de AGUA"
map0_string3: .string "A estrela no chao eh uma runa!\nEla aumenta sua chance de critico!\n\nUtilize as arvores no cenario\nElas diminuem a chance do inimigo\nte acertar!\n\n            BOA SORTE!"

victory_string0: .string "Parabens! Voce aniquilou todos os\nmagos de chapeu roxo, trazendo de\n volta a pas para o caminho da magia."
victory_string1: .string "Mas voce esta muito enganado se\n acha que eles nao vao voltar.\nA luta pela pas eh uma luta eterna de\n natureza ciclica."
victory_string2: .string "Por muitos anos, como voce bem sabe,\nos magos roxos dominavam o caminho\nda magia, mas antes deles quem\nreinava essas terras\neram nossos ancestrais."
victory_string3: .string "Entao, meu caro mago,\njamais desista dessa luta,\nesta na suas maos prolongar ao maximo\no reino dos chapeis de palha!"
 

map1_01: .string "Os chapeis roxo estao tentando\ninvadir a cidade, proteja os\nmoradores e nao os deixe vencer!\n\n         Derrote-os!"
map2_01: .string "Eles nao se abalaram com a\nderrota anterior, dessa vez voltaram\ncom mais magos!\n\n       DERROTE-OS e VA\n            para o\n\n  Hall da Fortaleza da Perdicao!"
map3_01: .string "Voce acaba de invadir o\nHall da Fortaleza da Perdicao!\n\n        LUTE VENCA!\ne se prepare para a GUERRA!"
map4_01: .string "Bem vindo a batalha mais epica\nde todas!\n\nA Fortaleza da Perdicao nao deixa\nsobreviventes!\n\nSOBREVIVA e DERROTE os inimigos!"

.align 2
map0_dialog: .word map0_string0, map0_string1, map0_string2, map0_string3
map1_dialog: .word map1_01
map2_dialog: .word map2_01
map3_dialog: .word map3_01
map4_dialog: .word map4_01
victory_dialog: .word victory_string0, victory_string1, victory_string2, victory_string3

STRING_AELTON: .string "Aelton"
STRING_AQUILA: .string "Aquila"
STRING_DUDU: .string "Dudu"
STRING_RUAN: .string "Ruan"
STRING_FELPS: .string "Felps"
STRING_VICTOR: .string "Victor"
STRING_ANA: .string "Ana"
STRING_LUIZ: .string "Luiz"
STRING_LAMAR: .string "Lamar"
STRING_DUMMY: .string "Dummy"

.align 2
# Images
.include "../sprites/walk/tiles.data"

.include "../sprites/combat/vida_cheia.data"
.include "../sprites/combat/vida_vazia.data"

# Combate
.include "../sprites/combat/combat_idle_aliado_azul.data"
.include "../sprites/combat/combat_pose_aliado_azul.data"
.include "../sprites/combat/combat_idle_aliado_vermelho.data"
.include "../sprites/combat/combat_pose_aliado_vermelho.data"
.include "../sprites/combat/combat_idle_aliado_marron.data"
.include "../sprites/combat/combat_pose_aliado_marron.data"
.include "../sprites/combat/combat_idle_inimigo_azul.data"
.include "../sprites/combat/combat_pose_inimigo_azul.data"
.include "../sprites/combat/combat_idle_inimigo_vermelho.data"
.include "../sprites/combat/combat_pose_inimigo_vermelho.data"
.include "../sprites/combat/combat_idle_inimigo_marron.data"
.include "../sprites/combat/combat_pose_inimigo_marron.data"

# Magic
.include "../sprites/magic/magic_idle_azul.data"
.include "../sprites/magic/magic_idle_vermelho.data"
.include "../sprites/magic/magic_idle_marron.data"
.include "../sprites/magic/magic_moving_azul.data"
.include "../sprites/magic/magic_moving_vermelho.data"
.include "../sprites/magic/magic_moving_marron.data"

.include "../sprites/walk/SMOKE0.data"
.include "../sprites/walk/SMOKE1.data"
.include "../sprites/walk/walkable.data"

